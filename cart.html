<!DOCTYPE html>
<html lang="bg">
<head>
<meta charset="UTF-8">
<title>DomPlus ‚Äì –ö–æ—à–Ω–∏—Ü–∞</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:Arial,sans-serif;margin:0;background:#f4f4f4;color:#333}
header{background:#111;color:white;padding:30px 15px;text-align:center}
header h1{font-size:2.5em;margin:0}
.container{max-width:800px;margin:auto;padding:20px}
.cart-item{display:flex;align-items:center;background:#fff;margin-bottom:10px;padding:10px;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.1)}
.cart-item img{width:80px;height:60px;object-fit:cover;border-radius:6px;margin-right:10px}
.cart-item-details{flex:1}
.cart-item-details strong{display:block;font-size:16px}
.cart-total{font-size:20px;font-weight:bold;text-align:right;margin-top:10px}
button{background:#1d3557;color:white;border:none;padding:10px 16px;font-size:16px;border-radius:5px;cursor:pointer;margin-top:10px}
button:hover{background:#457b9d}
.cart-icon{position:fixed;top:20px;right:20px;cursor:pointer;font-size:24px;background:#e63946;color:white;padding:10px 15px;border-radius:50%;z-index:1000}
#mini-cart{position:fixed;top:60px;right:20px;width:300px;max-height:400px;overflow-y:auto;background:#fff;box-shadow:0 2px 10px rgba(0,0,0,0.2);border-radius:8px;display:none;z-index:1001;padding:10px}
</style>
</head>
<body>

<header>
<h1>DomPlus ‚Äì –ö–æ—à–Ω–∏—Ü–∞</h1>
</header>

<div class="container" id="cart-container">
<!-- –ü—Ä–æ–¥—É–∫—Ç–∏ —â–µ —Å–µ —Ä–µ–Ω–¥–∏—Ä–∞—Ç —Ç—É–∫ -->
</div>

<div class="cart-icon" id="cart-icon">
üõí <span id="cart-count">0</span>
</div>

<div id="mini-cart"></div>

<script>
// –ü—Ä–æ–¥—É–∫—Ç–∏ (–ø—Ä–∏–º–µ—Ä–Ω–∏, –º–æ–∂–µ –¥–∞ —Å–µ –¥–æ–±–∞–≤—è—Ç –∏ –¥—Ä—É–≥–∏)
const productsData = [
    {name:"–°–≥—ä–≤–∞–µ–º –æ—Ä–≥–∞–Ω–∞–π–∑–µ—Ä –∑–∞ –¥—Ä–µ—Ö–∏", price:29, image:"https://images.unsplash.com/photo-1616628180050-86ee0499f4f2?auto=format&fit=crop&w=400&q=80", desc:"–ü–æ–≤–µ—á–µ –º—è—Å—Ç–æ –∏ —Ä–µ–¥ –≤ –≥–∞—Ä–¥–µ—Ä–æ–±–∞."},
    {name:"LED –Ω–æ—â–Ω–∞ –ª–∞–º–ø–∞", price:24, image:"https://images.unsplash.com/photo-1601924582975-3020e05864cb?auto=format&fit=crop&w=400&q=80", desc:"–°–≤–µ—Ç–≤–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–µ."},
    {name:"–ö—É—Ö–Ω–µ–Ω—Å–∫–∏ –æ—Ä–≥–∞–Ω–∞–π–∑–µ—Ä", price:34, image:"https://images.unsplash.com/photo-1599619464936-8f0a88e0c3b0?auto=format&fit=crop&w=400&q=80", desc:"–†–µ–¥ –∏ —É–¥–æ–±—Å—Ç–≤–æ –≤—ä–≤ –≤—Å—è–∫–æ —á–µ–∫–º–µ–¥–∂–µ."}
];

// –ö–æ—à–Ω–∏—Ü–∞ –æ—Ç localStorage
let cart = JSON.parse(localStorage.getItem("cart")) || [];
const container = document.getElementById("cart-container");

// –†–µ–Ω–¥–∏—Ä–∞–Ω–µ –Ω–∞ –∫–æ—à–Ω–∏—Ü–∞—Ç–∞
function renderCart(){
    container.innerHTML="";
    if(cart.length===0){
        container.innerHTML="<p style='text-align:center;font-size:20px;'>–ö–æ—à–Ω–∏—Ü–∞—Ç–∞ –µ –ø—Ä–∞–∑–Ω–∞</p>";
        return;
    }
    let total = 0;
    cart.forEach(item=>{
        total += item.price * item.qty;
        const div = document.createElement("div");
        div.className="cart-item";
        div.innerHTML=`
            <img src="${item.image}" alt="${item.name}" onerror="this.src='https://via.placeholder.com/80x60?text=No+Image'">
            <div class="cart-item-details">
                <strong>${item.name}</strong>
                ${item.qty} x ${item.price} –ª–≤ = ${item.price*item.qty} –ª–≤
            </div>
        `;
        container.appendChild(div);
    });
    const totalDiv = document.createElement("div");
    totalDiv.className="cart-total";
    totalDiv.innerText="–û–±—â–æ: " + total + " –ª–≤";
    container.appendChild(totalDiv);
}

// –ú–∏–Ω–∏ –∫–æ—à–Ω–∏—Ü–∞
const miniCart = document.getElementById("mini-cart");
function renderMiniCart(){
    miniCart.innerHTML = "";
    if(cart.length === 0){
        miniCart.innerHTML = "<p style='text-align:center'>–ö–æ—à–Ω–∏—Ü–∞—Ç–∞ –µ –ø—Ä–∞–∑–Ω–∞</p>";
        return;
    }
    let total = 0;
    cart.forEach(item=>{
        total += item.price * item.qty;
        const div = document.createElement("div");
        div.style.display="flex";
        div.style.marginBottom="8px";
        div.innerHTML = `
            <img src="${item.image}" style="width:50px;height:40px;object-fit:cover;margin-right:10px;border-radius:4px;">
            <div style="flex:1">
                <strong>${item.name}</strong><br>
                ${item.qty} x ${item.price} –ª–≤ = ${item.price*item.qty} –ª–≤
            </div>
        `;
        miniCart.appendChild(div);
    });
    const totalDiv = document.createElement("div");
    totalDiv.style.fontWeight="bold";
    totalDiv.style.textAlign="right";
    totalDiv.style.borderTop="1px solid #ccc";
    totalDiv.style.paddingTop="5px";
    totalDiv.innerText = "–û–±—â–æ: " + total + " –ª–≤";
    miniCart.appendChild(totalDiv);
}

// –ü–æ–∫–∞–∑–≤–∞–Ω–µ / —Å–∫—Ä–∏–≤–∞–Ω–µ –Ω–∞ –º–∏–Ω–∏ –∫–æ—à–Ω–∏—Ü–∞—Ç–∞ –ø—Ä–∏ hover
const cartIcon = document.getElementById("cart-icon");
cartIcon.addEventListener("mouseenter", ()=>{
    renderMiniCart();
    miniCart.style.display="block";
});
cartIcon.addEventListener("mouseleave", ()=>{
    miniCart.style.display="none";
});
miniCart.addEventListener("mouseenter", ()=> miniCart.style.display="block");
miniCart.addEventListener("mouseleave", ()=> miniCart.style.display="none");

// –ë—Ä–æ—è—á –Ω–∞ –∞—Ä—Ç–∏–∫—É–ª–∏
function updateCartCount(){
    const count = cart.reduce((acc,i)=>acc+i.qty,0);
    document.getElementById("cart-count").innerText = count;
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
updateCartCount();
renderCart();
renderMiniCart();
</script>

</body>
</html>
