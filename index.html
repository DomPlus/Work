<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <title>DomPlus – Бърза поръчка без регистрация</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body { font-family: Arial, sans-serif; margin:0; background:#f4f4f4; color:#333;}
        header { background:#111; color:white; padding:30px 15px; text-align:center;}
        header h1 { font-size:2.5em; }
        .container { max-width:1100px; margin:auto; padding:20px;}
        .products { display:grid; grid-template-columns:repeat(auto-fit, minmax(280px,1fr)); gap:20px;}
        .product { background:white; padding:20px; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,0.1); text-align:center;}
        .product img { width:100%; max-height:200px; object-fit:cover; border-radius:6px;}
        .price { font-size:22px; color:#e63946; margin:10px 0;}
        button { background:#1d3557; color:white; border:none; padding:12px 20px; font-size:16px; border-radius:5px; cursor:pointer;}
        button:hover { background:#457b9d;}
        form { background:white; padding:20px; margin-top:40px; border-radius:8px;}
        input, select { width:100%; padding:10px; margin:8px 0; font-size:16px;}
        footer { text-align:center; padding:20px; background:#111; color:white; margin-top:40px;}
    </style>

    <!-- Facebook Pixel -->
    <script>
        !function(f,b,e,v,n,t,s)
        {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window, document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');

        fbq('init', 'YOUR_PIXEL_ID'); // замени с твоя Facebook Pixel ID
        fbq('track', 'PageView');
    </script>

    <!-- TikTok Pixel (по избор) -->
    <script>
        !function (w, d, t) {
            w.TiktokAnalyticsObject = t;
            var ttq = w[t] = w[t] || [];
            ttq.methods = ["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"];
            ttq.setAndDefer = function(t,e){t[e] = function(){ t.push([e].concat(Array.prototype.slice.call(arguments,0))) } };
            for(var i=0;i<ttq.methods.length;i++){ ttq.setAndDefer(ttq,ttq.methods[i]); }
            ttq.instance = function(t){var e={};for(var n=0;n<ttq.methods.length;n++){ttq.setAndDefer(e,ttq.methods[n]);} return e;}
            ttq.load = function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||[];ttq._i.push([e,n]);var o=d.createElement("script");o.async=!0,o.src=i;var a=d.getElementsByTagName("script")[0];a.parentNode.insertBefore(o,a);};
            ttq.load('YOUR_TIKTOK_PIXEL_ID'); // замени с твоя TikTok Pixel ID
            ttq.page();
        }(window, document, 'ttq');
    </script>
</head>
<body>

<header>
    <h1>DomPlus</h1>
    <p>Практични продукти за дома • Плащане при получаване • Бърза доставка</p>
</header>

<div class="container">

    <div class="products">
        <div class="product">
            <img src="https://via.placeholder.com/400x250?text=Органайзер+за+дрехи">
            <h3>Сгъваем органайзер за дрехи</h3>
            <p>Повече място и ред в гардероба.</p>
            <div class="price">29 лв</div>
            <button onclick="selectProduct('Сгъваем органайзер за дрехи - 29 лв')">Поръчай</button>
        </div>

        <div class="product">
            <img src="https://via.placeholder.com/400x250?text=LED+лампа">
            <h3>LED нощна лампа със сензор</h3>
            <p>Светва автоматично при движение.</p>
            <div class="price">24 лв</div>
            <button onclick="selectProduct('LED нощна лампа - 24 лв')">Поръчай</button>
        </div>

        <div class="product">
            <img src="https://via.placeholder.com/400x250?text=Кухненски+органайзер">
            <h3>Кухненски органайзер</h3>
            <p>Ред и удобство във всяко чекмедже.</p>
            <div class="price">34 лв</div>
            <button onclick="selectProduct('Кухненски органайзер - 34 лв')">Поръчай</button>
        </div>
    </div>

    <form>
        <h2>Форма за поръчка</h2>

        <input type="hidden" name="Продукт" id="productField">

        <input type="text" name="Име" placeholder="Вашето име" required>
        <input type="tel" name="Телефон" placeholder="Телефон" required>
        <input type="text" name="Адрес" placeholder="Адрес за доставка" required>

        <button type="submit">Изпрати поръчката</button>
    </form>

</div>

<footer>
    © 2026 DomPlus – Всички права запазени
</footer>

<script>
function selectProduct(product) {
    document.getElementById("productField").value = product;
    window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
}

document.querySelector("form").addEventListener("submit", function(e) {
    e.preventDefault();

    const product = document.getElementById("productField").value;
    const nameVal = this.querySelector('[name="Име"]').value;
    const phoneVal = this.querySelector('[name="Телефон"]').value;
    const addressVal = this.querySelector('[name="Адрес"]').value;

    // 1️⃣ Google Sheets POST
    fetch("https://docs.google.com/forms/d/e/1NYBLOh4S90ZPxWpaIVCaGY0efo_5a3nUC4mSmCbWvVE/formResponse", {
        method: "POST",
        mode: "no-cors",
        body: new URLSearchParams({
            "entry.111111111": product,
            "entry.222222222": nameVal,
            "entry.333333333": phoneVal,
            "entry.444444444": addressVal
        })
    });

    // 2️⃣ Pixel tracking
    if(typeof fbq !== 'undefined'){ fbq('track', 'Purchase'); }
    if(typeof ttq !== 'undefined'){ ttq.track('CompletePayment'); }

    // 3️⃣ Redirect към thank-you page
    window.location.href = "thank-you.html";

    // 4️⃣ Telegram (ще добавим по-късно)
});
</script>

</body>
</html>
