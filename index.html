<!DOCTYPE html>
<html lang="bg">
<head>
<meta charset="UTF-8">
<title>DomPlus ‚Äì –û–Ω–ª–∞–π–Ω –º–∞–≥–∞–∑–∏–Ω</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:Arial,sans-serif;margin:0;background:#f4f4f4;color:#333}
header{background:#111;color:white;padding:30px 15px;text-align:center}
header h1{font-size:2.5em;margin:0}
.container{max-width:1100px;margin:auto;padding:20px}
.products{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px}
.product{background:white;padding:20px;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.1);text-align:center}
.product img{width:100%;height:200px;object-fit:cover;border-radius:6px}
.price{font-size:22px;color:#e63946;margin:10px 0}
button{background:#1d3557;color:white;border:none;padding:12px 20px;font-size:16px;border-radius:5px;cursor:pointer;margin-top:5px}
button:hover{background:#457b9d}
.qty{width:60px;margin-top:5px}
.footer-text{margin-top:50px;background:#fff;padding:20px;border-radius:8px;text-align:center;box-shadow:0 2px 8px rgba(0,0,0,0.1);}
.cart-icon{position:fixed;top:20px;right:20px;cursor:pointer;font-size:24px;background:#e63946;color:white;padding:10px 15px;border-radius:50%;z-index:1000;display:flex;align-items:center;justify-content:center;position:fixed;}
.cart-count{position:absolute;top:-8px;right:-8px;background:#fff;color:#e63946;font-size:14px;padding:2px 6px;border-radius:50%;font-weight:bold;}
#mini-cart{position:fixed;top:60px;right:20px;width:300px;max-height:400px;overflow-y:auto;background:#fff;box-shadow:0 2px 10px rgba(0,0,0,0.2);border-radius:8px;display:none;z-index:1001;padding:10px;}
</style>
</head>
<body>

<header>
<h1>DomPlus</h1>
<p>–ü—Ä–∞–∫—Ç–∏—á–Ω–∏ –ø—Ä–æ–¥—É–∫—Ç–∏ –∑–∞ –¥–æ–º–∞ ‚Ä¢ –ü–ª–∞—â–∞–Ω–µ –ø—Ä–∏ –ø–æ–ª—É—á–∞–≤–∞–Ω–µ ‚Ä¢ –ë—ä—Ä–∑–∞ –¥–æ—Å—Ç–∞–≤–∫–∞</p>
</header>

<div class="container">
<div class="products" id="products"></div>

<div class="footer-text">
<h3>–î–æ–±—Ä–µ –¥–æ—à–ª–∏ –≤ DomPlus!</h3>
<p>–ü—Ä–µ–¥–ª–∞–≥–∞–º–µ –ø—Ä–∞–∫—Ç–∏—á–Ω–∏ –ø—Ä–æ–¥—É–∫—Ç–∏ –∑–∞ –¥–æ–º–∞, –∫–æ–∏—Ç–æ —É–ª–µ—Å–Ω—è–≤–∞—Ç –µ–∂–µ–¥–Ω–µ–≤–∏–µ—Ç–æ –≤–∏. –ü–æ–¥—Ä–µ–¥–µ—Ç–µ –≥–∞—Ä–¥–µ—Ä–æ–±–∞, –æ—Ä–≥–∞–Ω–∏–∑–∏—Ä–∞–π—Ç–µ –∫—É—Ö–Ω—è—Ç–∞ –∏ –æ—Å–≤–µ—Ç–µ—Ç–µ –¥–æ–º–∞ —Å–∏ –ø–æ —Å—Ç–∏–ª–µ–Ω –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω –Ω–∞—á–∏–Ω. –ü–∞–∑–∞—Ä—É–≤–∞–π—Ç–µ –ª–µ—Å–Ω–æ, –±—ä—Ä–∑–æ –∏ —É–¥–æ–±–Ω–æ ‚Äì —Å –¥–æ—Å—Ç–∞–≤–∫–∞ –¥–æ –≤–∞—à–∞—Ç–∞ –≤—Ä–∞—Ç–∞!</p>
</div>
</div>

<div class="cart-icon" id="cart-icon" onclick="window.location.href='cart.html'">
üõí <span class="cart-count" id="cart-count">0</span>
</div>

<div id="mini-cart"></div>

<script>
// –ü—Ä–æ–¥—É–∫—Ç–∏
const productsData = [
    {
        name:"–°–≥—ä–≤–∞–µ–º –æ—Ä–≥–∞–Ω–∞–π–∑–µ—Ä –∑–∞ –¥—Ä–µ—Ö–∏",
        price:29,
        image:"https://images.unsplash.com/photo-1616628180050-86ee0499f4f2?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-4.0.3&q=80&w=400",
        desc:"–ü–æ–≤–µ—á–µ –º—è—Å—Ç–æ –∏ —Ä–µ–¥ –≤ –≥–∞—Ä–¥–µ—Ä–æ–±–∞."
    },
    {
        name:"LED –Ω–æ—â–Ω–∞ –ª–∞–º–ø–∞",
        price:24,
        image:"https://images.unsplash.com/photo-1601924582975-3020e05864cb?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-4.0.3&q=80&w=400",
        desc:"–°–≤–µ—Ç–≤–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–µ."
    },
    {
        name:"–ö—É—Ö–Ω–µ–Ω—Å–∫–∏ –æ—Ä–≥–∞–Ω–∞–π–∑–µ—Ä",
        price:34,
        image:"https://images.unsplash.com/photo-1599619464936-8f0a88e0c3b0?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-4.0.3&q=80&w=400",
        desc:"–†–µ–¥ –∏ —É–¥–æ–±—Å—Ç–≤–æ –≤—ä–≤ –≤—Å—è–∫–æ —á–µ–∫–º–µ–¥–∂–µ."
    }
];

// –ö–æ—à–Ω–∏—Ü–∞
let cart = JSON.parse(localStorage.getItem("cart")) || [];

// –†–µ–Ω–¥–∏—Ä–∞–Ω–µ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏
const productsContainer = document.getElementById("products");
productsData.forEach((p,index)=>{
    const div = document.createElement("div");
    div.className="product";
    div.innerHTML=`
        <img src="${p.image}" alt="${p.name}">
        <h3>${p.name}</h3>
        <p>${p.desc}</p>
        <div class="price">${p.price} –ª–≤</div>
        <input type="number" value="1" min="1" class="qty">
        <button data-index="${index}">–î–æ–±–∞–≤–∏ –≤ –∫–æ—à–Ω–∏—Ü–∞—Ç–∞</button>
    `;
    productsContainer.appendChild(div);
});

// –ë—Ä–æ—è—á –Ω–∞ –∞—Ä—Ç–∏–∫—É–ª–∏
function updateCartCount(){
    const count = cart.reduce((acc,i)=>acc+i.qty,0);
    document.getElementById("cart-count").innerText = count;
}

// –î–æ–±–∞–≤—è–Ω–µ –≤ –∫–æ—à–Ω–∏—Ü–∞—Ç–∞
document.querySelectorAll(".product button").forEach(btn=>{
    btn.addEventListener("click",()=>{
        const idx = btn.getAttribute("data-index");
        const product = productsData[idx];
        const qty = parseInt(btn.previousElementSibling.value);
        if(qty < 1) return;

        const existing = cart.find(i=>i.name===product.name);
        if(existing){ existing.qty += qty; }
        else { cart.push({name:product.name, price:product.price, qty, image:product.image}); }

        localStorage.setItem("cart", JSON.stringify(cart));
        updateCartCount();
        renderMiniCart();
    });
});

// –ú–∏–Ω–∏ –∫–æ—à–Ω–∏—Ü–∞
const miniCart = document.getElementById("mini-cart");
function renderMiniCart(){
    miniCart.innerHTML = "";
    if(cart.length === 0){
        miniCart.innerHTML = "<p style='text-align:center'>–ö–æ—à–Ω–∏—Ü–∞—Ç–∞ –µ –ø—Ä–∞–∑–Ω–∞</p>";
        return;
    }
    let total = 0;
    cart.forEach(item=>{
        total += item.price * item.qty;
        const div = document.createElement("div");
        div.style.display="flex";
        div.style.marginBottom="8px";
        div.innerHTML = `
            <img src="${item.image}" style="width:50px;height:40px;object-fit:cover;margin-right:10px;border-radius:4px;">
            <div style="flex:1">
                <strong>${item.name}</strong><br>
                ${item.qty} x ${item.price} –ª–≤ = ${item.price*item.qty} –ª–≤
            </div>
        `;
        miniCart.appendChild(div);
    });
    const totalDiv = document.createElement("div");
    totalDiv.style.fontWeight="bold";
    totalDiv.style.textAlign="right";
    totalDiv.style.borderTop="1px solid #ccc";
    totalDiv.style.paddingTop="5px";
    totalDiv.innerText = "–û–±—â–æ: " + total + " –ª–≤";
    miniCart.appendChild(totalDiv);
}

// –ü–æ–∫–∞–∑–≤–∞–Ω–µ / —Å–∫—Ä–∏–≤–∞–Ω–µ –Ω–∞ –º–∏–Ω–∏ –∫–æ—à–Ω–∏—Ü–∞—Ç–∞ –ø—Ä–∏ hover
const cartIcon = document.getElementById("cart-icon");
cartIcon.addEventListener("mouseenter", ()=>{
    renderMiniCart();
    miniCart.style.display="block";
});
cartIcon.addEventListener("mouseleave", ()=>{
    miniCart.style.display="none";
});
miniCart.addEventListener("mouseenter", ()=> miniCart.style.display="block");
miniCart.addEventListener("mouseleave", ()=> miniCart.style.display="none");

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –±—Ä–æ—è
updateCartCount();
renderMiniCart();
</script>

</body>
</html>
